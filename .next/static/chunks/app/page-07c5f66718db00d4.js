(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3287:function(e,t,a){Promise.resolve().then(a.bind(a,6171))},6171:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return W}});var s=a(6705),l=a(955),r=a(9466),n=a(7256),i=a(6061),d=a(7042),o=a(3986);function c(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,o.m)((0,d.W)(t))}let m=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),x=l.forwardRef((e,t)=>{let{className:a,variant:l,size:r,asChild:i=!1,...d}=e,o=i?n.g7:"button";return(0,s.jsx)(o,{className:c(m({variant:l,size:r,className:a})),ref:t,...d})});function u(e){let{onMenuClick:t}=e;return(0,s.jsx)("header",{className:"bg-white dark:bg-gray-800 shadow-md",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,s.jsxs)(x,{variant:"ghost",size:"icon",onClick:t,className:"mr-2",children:[(0,s.jsx)(r.Z,{className:"h-6 w-6"}),(0,s.jsx)("span",{className:"sr-only",children:"サイドバーを開閉"})]}),(0,s.jsx)("h1",{className:"text-lg sm:text-xl font-semibold text-gray-800 dark:text-white truncate",children:"スタイリッシュフォーム & PDF生成アプリ"})]})})})}x.displayName="Button";var f=a(4862);function p(e){let{isOpen:t,onClose:a}=e;return(0,s.jsx)(s.Fragment,{children:t&&(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex",children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black/80",onClick:a}),(0,s.jsxs)("div",{className:"relative flex w-80 max-w-sm flex-1 flex-col bg-white dark:bg-gray-800",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"メニュー"}),(0,s.jsxs)(x,{variant:"ghost",size:"icon",onClick:a,children:[(0,s.jsx)(f.Z,{className:"h-6 w-6"}),(0,s.jsx)("span",{className:"sr-only",children:"閉じる"})]})]}),(0,s.jsx)("div",{className:"flex-1 overflow-auto p-4",children:(0,s.jsxs)("nav",{className:"space-y-2",children:[(0,s.jsx)("a",{href:"#",className:"block px-4 py-2 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:"ホーム"}),(0,s.jsx)("a",{href:"#",className:"block px-4 py-2 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:"フォーム一覧"}),(0,s.jsx)("a",{href:"#",className:"block px-4 py-2 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:"設定"})]})})]})]})})}let h=l.forwardRef((e,t)=>{let{className:a,type:l,...r}=e;return(0,s.jsx)("input",{type:l,className:c("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...r})});h.displayName="Input";var g=a(6743);let b=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),y=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(g.f,{ref:t,className:c(b(),a),...l})});y.displayName=g.f.displayName;let j=[{id:"name",label:"名前",type:"text"},{id:"email",label:"メールアドレス",type:"email"},{id:"phone",label:"電話番号",type:"tel"},{id:"address",label:"住所",type:"text"},{id:"birthdate",label:"生年月日",type:"date"},{id:"occupation",label:"職業",type:"text"},{id:"company",label:"会社名",type:"text"},{id:"department",label:"部署",type:"text"},{id:"position",label:"役職",type:"text"}];function v(e){let{onPreview:t}=e,[a,r]=(0,l.useState)({}),n=e=>{let{id:t,value:a}=e.target;r(e=>({...e,[t]:a}))};return(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(a)},className:"space-y-6",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:j.map(e=>(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(y,{htmlFor:e.id,children:e.label}),(0,s.jsx)(h,{id:e.id,type:e.type,value:a[e.id]||"",onChange:n,required:!0})]},e.id))}),(0,s.jsx)(x,{type:"submit",className:"w-full",children:"プレビュー"})]})}var N=a(247),w=a(9394);let k=N.fC;N.xz;let C=N.h_;N.x8;let F=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(N.aV,{ref:t,className:c("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l})});F.displayName=N.aV.displayName;let D=l.forwardRef((e,t)=>{let{className:a,children:l,...r}=e;return(0,s.jsxs)(C,{children:[(0,s.jsx)(F,{}),(0,s.jsxs)(N.VY,{ref:t,className:c("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r,children:[l,(0,s.jsxs)(N.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(w.Pxu,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});D.displayName=N.VY.displayName;let R=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:c("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};R.displayName="DialogHeader";let P=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:c("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};P.displayName="DialogFooter";let z=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(N.Dx,{ref:t,className:c("text-lg font-semibold leading-none tracking-tight",a),...l})});z.displayName=N.Dx.displayName;let E=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(N.dk,{ref:t,className:c("text-sm text-muted-foreground",a),...l})});E.displayName=N.dk.displayName;var O=a(8675);let S=l.forwardRef((e,t)=>{let{className:a,children:l,...r}=e;return(0,s.jsxs)(O.fC,{ref:t,className:c("relative overflow-hidden",a),...r,children:[(0,s.jsx)(O.l_,{className:"h-full w-full rounded-[inherit]",children:l}),(0,s.jsx)(_,{}),(0,s.jsx)(O.Ns,{})]})});S.displayName=O.fC.displayName;let _=l.forwardRef((e,t)=>{let{className:a,orientation:l="vertical",...r}=e;return(0,s.jsx)(O.gb,{ref:t,orientation:l,className:c("flex touch-none select-none transition-colors","vertical"===l&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===l&&"h-2.5 border-t border-t-transparent p-[1px]",a),...r,children:(0,s.jsx)(O.q4,{className:"relative flex-1 rounded-full bg-border"})})});async function q(e){let t=document.createElement("div");t.style.padding="20px",t.style.fontFamily="sans-serif";let a=document.createElement("h1");return a.textContent="フォーム入力内容",a.style.marginBottom="20px",a.style.borderBottom="2px solid #333",a.style.paddingBottom="10px",t.appendChild(a),Object.entries(e).forEach(e=>{let[a,s]=e,l=document.createElement("div");l.style.marginBottom="15px",l.style.display="grid",l.style.gridTemplateColumns="1fr 2fr",l.style.gap="10px";let r=document.createElement("div");r.textContent=a,r.style.fontWeight="bold",r.style.color="#333";let n=document.createElement("div");n.textContent=s,n.style.color="#666",l.appendChild(r),l.appendChild(n),t.appendChild(l)}),t}async function B(e){try{let t=(await Promise.all([a.e(505),a.e(632),a.e(337),a.e(156)]).then(a.t.bind(a,2846,23))).default,s=await q(e),l=await t().from(s).set({margin:10,filename:"form.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}}).outputPdf("blob");return l}catch(e){throw console.error("Failed to generate PDF:",e),e}}function V(e){let{isOpen:t,onClose:a,formData:r,onEmailClick:n}=e,[i,d]=(0,l.useState)(!1),o=async()=>{try{d(!0);let e=await B(r),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="form.pdf",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)}catch(e){console.error("Failed to generate PDF:",e)}finally{d(!1)}};return(0,s.jsx)(k,{open:t,onOpenChange:a,children:(0,s.jsxs)(D,{className:"max-w-4xl",children:[(0,s.jsx)(R,{children:(0,s.jsx)(z,{children:"プレビュー"})}),(0,s.jsx)(S,{className:"h-[60vh] rounded-md border p-4",children:(0,s.jsx)("div",{className:"space-y-4",children:Object.entries(r).map(e=>{let[t,a]=e;return(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsx)("div",{className:"font-medium",children:t}),(0,s.jsx)("div",{className:"col-span-2",children:a})]},t)})})}),(0,s.jsxs)(P,{className:"flex justify-between",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(x,{onClick:o,disabled:i,children:i?"PDFを生成中...":"PDFダウンロード"}),(0,s.jsx)(x,{onClick:n,children:"メール送信"})]}),(0,s.jsx)(x,{variant:"outline",onClick:a,children:"閉じる"})]})]})})}_.displayName=O.gb.displayName;let L=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("textarea",{className:c("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...l})});async function U(e){console.log("Sending email:",e),await new Promise(e=>setTimeout(e,1e3))}function T(e){let{isOpen:t,onClose:a,formData:r}=e,[n,i]=(0,l.useState)({to:"",subject:"フォーム入力内容",message:""}),d=async e=>{e.preventDefault();try{await U({...n,formData:r}),a()}catch(e){console.error("Failed to send email:",e)}};return(0,s.jsx)(k,{open:t,onOpenChange:a,children:(0,s.jsxs)(D,{children:[(0,s.jsx)(R,{children:(0,s.jsx)(z,{children:"メール送信"})}),(0,s.jsxs)("form",{onSubmit:d,children:[(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(y,{htmlFor:"to",className:"text-right",children:"宛先"}),(0,s.jsx)(h,{id:"to",type:"email",value:n.to,onChange:e=>i({...n,to:e.target.value}),className:"col-span-3",required:!0})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(y,{htmlFor:"subject",className:"text-right",children:"件名"}),(0,s.jsx)(h,{id:"subject",value:n.subject,onChange:e=>i({...n,subject:e.target.value}),className:"col-span-3",required:!0})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(y,{htmlFor:"message",className:"text-right",children:"メッセージ"}),(0,s.jsx)(L,{id:"message",value:n.message,onChange:e=>i({...n,message:e.target.value}),className:"col-span-3",required:!0})]})]}),(0,s.jsx)(P,{children:(0,s.jsx)(x,{type:"submit",children:"送信"})})]})]})})}function W(){let[e,t]=(0,l.useState)(!1),[a,r]=(0,l.useState)(!1),[n,i]=(0,l.useState)(!1),[d,o]=(0,l.useState)({}),c=()=>t(!e);return(0,s.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,s.jsx)(p,{isOpen:e,onClose:c}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,s.jsx)(u,{onMenuClick:c}),(0,s.jsx)("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-background",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-semibold text-gray-800 dark:text-white mb-6",children:"スタイリッシュフォーム & PDF生成アプリ"}),(0,s.jsx)(v,{onPreview:e=>{o(e),r(!0)}})]})})]}),(0,s.jsx)(V,{isOpen:a,onClose:()=>r(!1),formData:d,onEmailClick:()=>i(!0)}),(0,s.jsx)(T,{isOpen:n,onClose:()=>i(!1),formData:d})]})}L.displayName="Textarea"}},function(e){e.O(0,[310,587,121,114,744],function(){return e(e.s=3287)}),_N_E=e.O()}]);